## 슈퍼클래스를 위임으로 바꾸기 (Replace Superclass with Delegate)

### as-is
```javascript
class List { /* ... */ }
class Stack extends List { /* ... */ }
```

### to-be
```javascript
class Stack {
    constructor() {
        this._storage = new List();
    }
}
class List { /* ... */ }
```

* 객체 지향 프로그래밍에서 상속은 기존 기능을 재활용하는 강력하고 손쉬운 수단이다.
* 하지만 상속이 혼란과 복잡도를 키우기도 하는데, 그 예로 자바의 스택 클래스가 유명하다.
* 자바의 스택은 슈퍼클래스를 위임으로 바꾸는 이번 리팩토링을 적용해야 하는 좋은 예다.
* 슈퍼클래스의 기능들이 서브클래스에 어울리지 않는다면 그 기능을 상속을 통해 이용하면 안된다는 신호다.
* 제대로 된 상속이라면 서브클래스가 슈퍼클래스의 모든 기능을 사용함은 물론, 서브클래스의 인스턴스를 슈퍼클래스의 인스턴스로도 취급할 수 있어야 한다.
* 슈퍼클래스가 사용되는 모든 곳에서 서브클래스의 인스턴스를 대신 사용해도 이상없이 동작해야 한다.
* 서브클래스 방식의 모델링이 합리적일 때라도 슈퍼클래스를 위임으로 바꾸기도 한다. 상속 관계는 강한 결합 관계라서 슈퍼클래스의 수정이 서브클래스로 영향을 줄 수 있기 때문이다.

- - -

### 절차
1. 슈퍼클래스 객체를 참조하는 필드를 서브클래스에 만든다. 위임 참조를 새로운 슈퍼클래스 인스턴스로 초기화한다.
2. 슈퍼클래스의 동작 각각에 대응하는 전달 함수를 서브클래스에 만든다. 서로 관련된 함수끼리 그룹으로 묶어 진행하며, 그룹을 하나씩 만들 떄마다 테스트한다.
3. 슈퍼클래스의 동작 모두가 전달 함수로 오버라이드 되었다면 상속 관계를 끊는다.
