## 타입 코드를 서브클래스로 바꾸기 (Replace Type Code with Subclasses)

### as-is
```javascript
function createEmployee(name, type) {
    return new Employee(name, type);
}
```

### to-be
```javascript
function createEmployee(name, type) {
    switch (type) {
        case "engineer": return new Engineer(name);
        case "salesperson": return new Salesperson(name);
        case "manager": return new Manager(name);
    }
}
```

* 소프트웨어 시스템에서는 비슷한 대상들을 특정 특성에 따라 구분해야 할 때가 자주 있다. 이러한 일들을 다루는 수단으로 타입 코드 필드가 있다.
* 타입 코드는 프로그래밍 언어에 따라 열거형이나 심볼, 문자열, 숫자 등으로 표현하며, 외부 서비스가 제공하는 데이터를 다루려 할 때 딸려오는 일이 흔하다.
* 서브클래스는 조건에 따라 다르게 동작하도록 해주는 다형성을 제공한다. 타입 코드에 따라 동작이 달라져야 하는 함수가 여러 개일 때 유용하다.
* 서브클래스는 특정 타입에서만 의미가 있는 값을 사용하는 필드나 메서드가 있을 때 유용하다.
* 대상 클래스에 직접 적용할지, 아니면 타입 코드 자체에 적용할지를 고민해야 한다.

- - -

### 절차
1. 타입 코드 필드를 자가 캡슐화한다.
2. 타입 코드 값 하나를 선택하여 그 값에 해당하는 서브클래스를 만든다. 타입 코드 게터 메서드를 오버라이드하여 해당 타입 코드의 리터럴 값을 반환하게 한다.
3. 매개변수로 받은 타입 코드와 방금 만든 서브클래스를 매핑하는 선택 로직을 만든다.
   * 직접 상속일 때는 '생성자를 팩토리 함수로 바꾸기'를 적용하고 선택 로직을 팩토리에 넣는다. 간접 상속을 때는 선택 로직을 생성자에 두면 된다.
4. 테스트한다.
5. 타입 코드 값 각각에 대해 서브클래스 생성과 선택 로직 추가를 반복한다. 클래스 하나가 완성될 때마다 테스트한다.
6. 타입 코드 필드를 제거한다.
7. 테스트한다.
8. 타입 코드 접근자를 이용하는 메서드 모두에 '메서드 내리기'와 '조건부 로직을 다형성으로 바꾸기'를 적용한다.
