# Chapter 01. 리팩터링: 첫 번째 예시

- - -

* 리팩터링의 첫 단계는 리팩터링할 코드 영역을 꼼꼼하게 검사해줄 테스트 코드들부터 마련해야 한다.
* 테스트는 반드시 자가진단하도록 만든다.
* 리팩터링은 프로그램 수정을 작은 단계로 나눠 진행한다. 그래서 중간에 실수하더라도 버그를 쉽게 찾을 수 있다.
* 리팩터링으로 인한 성능 문제가 발생하더라도 특별한 경우가 아니라면 일단 무시하고 진행한다.
  * 리팩터링 때문에 성능이 떨어진다면, 하던 리팩터링을 마무리하고 나서 성능을 개선한다.
  * 리팩터링 덕분에 성능 개선을 더 효과적으로 수행할 수 있다.
* 복잡한 코드를 쪼개면서 리팩터링을 진행할 때는 작은 단위로 진행한다.
  * 리팩터링 중간에 테스트가 실패하고 원인을 찾지 못하면 가장 최근 커밋으로 돌아가서 테스트에 실패한 리팩터링의 단계를 더 작게 나눠 다시 시도한다.
  * 코드가 복잡할수록 단계를 작게 나누면 작업 속도가 빨라진다.
* 리팩터링의 결과로 코드량이 늘어나더라도 코드의 의미가 더 명확해지고, 각자의 역할이 잘 분리되었다면 괜찮다.
* 리팩터링은 대부분 코드가 하는 일을 파악하는 데서 시작한다.
  * 코드를 읽고, 개선점을 찾고, 리팩터링 작업을 통해 개선점을 코드에 반영하는 식으로 진행한다.

> 좋은 코드를 가늠하는 확실한 방법은 '얼마나 수정하기 쉬운가'다.
